# å„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸Žæ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸Žæ„ä¹‰

éšç€è®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œç›®æ ‡æ£€æµ‹ä½œä¸ºå…¶é‡è¦çš„ç ”ç©¶æ–¹å‘ä¹‹ä¸€ï¼Œå·²ç»åœ¨å¤šä¸ªé¢†åŸŸå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼ŒåŒ…æ‹¬å®‰é˜²ç›‘æŽ§ã€æ™ºèƒ½äº¤é€šã€åŒ»ç–—å½±åƒåˆ†æžç­‰ã€‚åœ¨è¿™äº›åº”ç”¨åœºæ™¯ä¸­ï¼Œå„¿ç«¥ä¸Žæˆäººçš„ç›®æ ‡æ£€æµ‹å°¤ä¸ºé‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨å…¬å…±åœºæ‰€å’Œå®¶åº­çŽ¯å¢ƒä¸­ï¼Œèƒ½å¤Ÿæœ‰æ•ˆè¯†åˆ«å’ŒåŒºåˆ†å„¿ç«¥ä¸Žæˆäººçš„è¡Œä¸ºï¼Œå¯¹äºŽä¿éšœå„¿ç«¥å®‰å…¨ã€æå‡ç¤¾ä¼šæ²»å®‰æ°´å¹³å…·æœ‰é‡è¦æ„ä¹‰ã€‚ä¼ ç»Ÿçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶å¾€å¾€é¢ä¸´å‡†ç¡®çŽ‡ä¸è¶³å’Œå®žæ—¶æ€§å·®çš„é—®é¢˜ï¼Œå› æ­¤ï¼ŒåŸºäºŽæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹åº”è¿è€Œç”Ÿï¼Œæˆä¸ºå½“å‰ç ”ç©¶çš„çƒ­ç‚¹ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡åž‹å› å…¶é«˜æ•ˆçš„æ£€æµ‹é€Ÿåº¦å’Œè¾ƒå¥½çš„å‡†ç¡®æ€§è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿›ä¸€æ­¥æå‡äº†æ¨¡åž‹çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å°ç›®æ ‡æ£€æµ‹å’Œå¤æ‚èƒŒæ™¯ä¸‹çš„ç›®æ ‡è¯†åˆ«èƒ½åŠ›ä¸Šè¡¨çŽ°å‡ºè‰²ã€‚ç„¶è€Œï¼Œé’ˆå¯¹å„¿ç«¥ä¸Žæˆäººçš„ç›®æ ‡æ£€æµ‹ï¼ŒçŽ°æœ‰çš„YOLOv8æ¨¡åž‹ä»å­˜åœ¨ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œå°¤å…¶æ˜¯åœ¨ä¸åŒå¹´é¾„æ®µç›®æ ‡çš„ç‰¹å¾æå–å’Œåˆ†ç±»ç²¾åº¦æ–¹é¢ã€‚å› æ­¤ï¼ŒåŸºäºŽæ”¹è¿›YOLOv8çš„å„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å…·æœ‰é‡è¦çš„ç†è®ºä»·å€¼å’Œå®žé™…æ„ä¹‰ã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†â€œkids_adultâ€åŒ…å«1700å¼ å›¾åƒï¼Œæ¶µç›–äº†å„¿ç«¥å’Œæˆäººä¸¤ä¸ªç±»åˆ«ã€‚è¿™ä¸€æ•°æ®é›†çš„æž„å»ºä¸ºç ”ç©¶æä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ”¯æŒæ¨¡åž‹çš„è®­ç»ƒå’ŒéªŒè¯ã€‚é€šè¿‡å¯¹è¯¥æ•°æ®é›†çš„æ·±å…¥åˆ†æžï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°å„¿ç«¥ä¸Žæˆäººåœ¨å¤–è§‚ç‰¹å¾ã€è¡Œä¸ºæ¨¡å¼ç­‰æ–¹é¢çš„æ˜¾è‘—å·®å¼‚ï¼Œè¿™ä¸ºç›®æ ‡æ£€æµ‹æ¨¡åž‹çš„æ”¹è¿›æä¾›äº†é‡è¦çš„å‚è€ƒä¾æ®ã€‚é€šè¿‡å¯¹YOLOv8æ¨¡åž‹è¿›è¡Œæ”¹è¿›ï¼Œç»“åˆæ•°æ®é›†ä¸­çš„ç‰¹å¾ä¿¡æ¯ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”å„¿ç«¥ä¸Žæˆäººçš„ç›®æ ‡æ£€æµ‹éœ€æ±‚ï¼Œæé«˜æ¨¡åž‹åœ¨å®žé™…åº”ç”¨ä¸­çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

æ­¤å¤–ï¼Œå„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶è¿˜å…·æœ‰é‡è¦çš„ç¤¾ä¼šæ„ä¹‰ã€‚åœ¨æ™ºèƒ½ç›‘æŽ§ã€æ™ºèƒ½å®¶å±…ç­‰åº”ç”¨åœºæ™¯ä¸­ï¼Œèƒ½å¤Ÿå®žæ—¶è¯†åˆ«å„¿ç«¥ä¸Žæˆäººçš„è¡Œä¸ºï¼Œæœ‰åŠ©äºŽåŠæ—¶å‘çŽ°æ½œåœ¨çš„å®‰å…¨éšæ‚£ï¼Œä¿æŠ¤å„¿ç«¥çš„å®‰å…¨ã€‚åŒæ—¶ï¼Œè¯¥ç³»ç»Ÿçš„æŽ¨å¹¿åº”ç”¨ä¹Ÿå°†ä¸ºæ™ºèƒ½äº¤é€šã€å…¬å…±å®‰å…¨ç­‰é¢†åŸŸæä¾›æŠ€æœ¯æ”¯æŒï¼Œæå‡ç¤¾ä¼šæ•´ä½“çš„å®‰å…¨æ°´å¹³ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºŽæ”¹è¿›YOLOv8çš„å„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…èƒ½å¤ŸæŽ¨åŠ¨ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„å‘å±•ï¼Œè¿˜èƒ½ä¸ºç¤¾ä¼šå®‰å…¨æä¾›åˆ‡å®žå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡æ·±å…¥æŽ¢ç´¢å„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹çš„ç‰¹å¾å’Œè§„å¾‹ï¼Œç»“åˆå…ˆè¿›çš„æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œæˆ‘ä»¬æœ‰æœ›å®žçŽ°æ›´é«˜æ•ˆã€æ›´å‡†ç¡®çš„ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼Œä¸ºå„¿ç«¥å®‰å…¨å’Œç¤¾ä¼šæ²»å®‰è´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºŽæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®žé™…æ•ˆæžœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡åž‹å’Œâ€œå®žä¾‹åˆ†å‰²â€æ¨¡åž‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡åž‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®žæ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®žæ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æžœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºçŽ°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æžœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼ŒåŽé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåŽå®žçŽ°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæžœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1VYtjeYEyV/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 2
names: ['adult', 'kids']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸï¼Œå°¤å…¶æ˜¯åœ¨å„¿ç«¥ä¸Žæˆäººçš„è¯†åˆ«ä¸Žåˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæ•°æ®é›†çš„æž„å»ºä¸Žé€‰æ‹©è‡³å…³é‡è¦ã€‚æœ¬ç ”ç©¶æ‰€é‡‡ç”¨çš„æ•°æ®é›†åä¸ºâ€œkids_adultâ€ï¼Œå…¶è®¾è®¡æ—¨åœ¨ä¸ºæ”¹è¿›YOLOv8æ¨¡åž‹æä¾›é«˜è´¨é‡çš„è®­ç»ƒæ•°æ®ï¼Œä»¥å®žçŽ°æ›´ç²¾å‡†çš„ç›®æ ‡æ£€æµ‹ã€‚è¯¥æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º2ï¼Œå…·ä½“ç±»åˆ«åŒ…æ‹¬â€œadultâ€ï¼ˆæˆäººï¼‰å’Œâ€œkidsâ€ï¼ˆå„¿ç«¥ï¼‰ã€‚è¿™ä¸€ç®€å•è€Œæœ‰æ•ˆçš„åˆ†ç±»è®¾ç½®ï¼Œä½¿å¾—æ¨¡åž‹èƒ½å¤Ÿä¸“æ³¨äºŽåŒºåˆ†è¿™ä¸¤ç±»ç›®æ ‡ï¼Œä»Žè€Œæå‡æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆçŽ‡ã€‚

â€œkids_adultâ€æ•°æ®é›†çš„æž„å»ºè€ƒè™‘åˆ°äº†å¤šæ ·æ€§ä¸Žä»£è¡¨æ€§ï¼Œæ¶µç›–äº†ä¸åŒå¹´é¾„æ®µã€æ€§åˆ«å’Œç§æ—çš„æˆäººä¸Žå„¿ç«¥å›¾åƒã€‚è¿™ç§å¤šæ ·æ€§ä¸ä»…æœ‰åŠ©äºŽæé«˜æ¨¡åž‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜èƒ½æœ‰æ•ˆå‡å°‘å› æ•°æ®åå·®å¯¼è‡´çš„è¯†åˆ«é”™è¯¯ã€‚åœ¨æ•°æ®é‡‡é›†è¿‡ç¨‹ä¸­ï¼Œç ”ç©¶å›¢é˜Ÿæ³¨é‡ç¡®ä¿å›¾åƒçš„æ¸…æ™°åº¦å’Œå¤šæ ·æ€§ï¼Œæ¶µç›–äº†ä¸åŒçš„çŽ¯å¢ƒèƒŒæ™¯ï¼Œå¦‚å®¤å†…ã€æˆ·å¤–ã€å­¦æ ¡ã€æ¸¸ä¹åœºç­‰åœºæ™¯ï¼Œä»¥æ¨¡æ‹ŸçŽ°å®žç”Ÿæ´»ä¸­å¯èƒ½é‡åˆ°çš„å„ç§æƒ…å†µã€‚

ä¸ºäº†ä¿è¯æ•°æ®é›†çš„é«˜è´¨é‡ï¼Œæ‰€æœ‰å›¾åƒå‡ç»è¿‡ä¸¥æ ¼çš„æ ‡æ³¨å’Œå®¡æ ¸æµç¨‹ã€‚æ ‡æ³¨è¿‡ç¨‹ä¸­ï¼Œä¸“ä¸šçš„æ ‡æ³¨å›¢é˜Ÿå¯¹æ¯ä¸€å¼ å›¾åƒä¸­çš„æˆäººä¸Žå„¿ç«¥è¿›è¡Œäº†ç²¾ç¡®çš„æ¡†é€‰å’Œåˆ†ç±»ï¼Œç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†è¿˜åŒ…å«äº†ä¸åŒçš„å§¿æ€ã€åŠ¨ä½œå’Œè¡¨æƒ…ï¼Œä»¥ä¾¿æ¨¡åž‹èƒ½å¤Ÿå­¦ä¹ åˆ°æ›´ä¸ºä¸°å¯Œçš„ç‰¹å¾ï¼Œä»Žè€Œåœ¨å®žé™…åº”ç”¨ä¸­è¡¨çŽ°å‡ºæ›´å¥½çš„é€‚åº”æ€§ã€‚

åœ¨æ•°æ®é›†çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç ”ç©¶è€…ä»¬å°†â€œkids_adultâ€æ•°æ®é›†ä¸ŽYOLOv8æ¨¡åž‹ç›¸ç»“åˆï¼Œè¿›è¡Œäº†ä¸€ç³»åˆ—çš„è®­ç»ƒä¸Žæµ‹è¯•å®žéªŒã€‚é€šè¿‡å¯¹æ¯”å®žéªŒï¼Œå‘çŽ°ä½¿ç”¨è¯¥æ•°æ®é›†è®­ç»ƒçš„æ¨¡åž‹åœ¨æ£€æµ‹å‡†ç¡®çŽ‡ã€å¬å›žçŽ‡åŠF1-scoreç­‰æŒ‡æ ‡ä¸Šå‡æ˜¾è‘—ä¼˜äºŽæœªä½¿ç”¨è¯¥æ•°æ®é›†çš„æ¨¡åž‹ã€‚è¿™ä¸€ç»“æžœä¸ä»…éªŒè¯äº†â€œkids_adultâ€æ•°æ®é›†çš„æœ‰æ•ˆæ€§ï¼Œä¹Ÿä¸ºåŽç»­çš„ç ”ç©¶æä¾›äº†é‡è¦çš„å‚è€ƒä¾æ®ã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ•°æ®é›†çš„è®¾è®¡ä¹Ÿå……åˆ†è€ƒè™‘åˆ°äº†ä¼¦ç†ä¸Žéšç§é—®é¢˜ã€‚åœ¨æ•°æ®é‡‡é›†å’Œä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸¥æ ¼éµå¾ªç›¸å…³æ³•å¾‹æ³•è§„ï¼Œç¡®ä¿æ‰€æœ‰å‚ä¸Žè€…çš„éšç§å¾—åˆ°å……åˆ†ä¿æŠ¤ã€‚ç ”ç©¶å›¢é˜Ÿåœ¨æ•°æ®é›†çš„å‘å¸ƒä¸Žå…±äº«ä¸Šä¹Ÿé‡‡å–äº†è°¨æ…Žçš„æ€åº¦ï¼Œç¡®ä¿å…¶ä»…ç”¨äºŽå­¦æœ¯ç ”ç©¶å’Œéžå•†ä¸šæ€§ç›®çš„ï¼Œä»¥ä¿ƒè¿›ç§‘å­¦ç ”ç©¶çš„å¯æŒç»­å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œâ€œkids_adultâ€æ•°æ®é›†ä¸ä»…ä¸ºå„¿ç«¥ä¸Žæˆäººç›®æ ‡æ£€æµ‹ç³»ç»Ÿçš„è®­ç»ƒæä¾›äº†åšå®žçš„åŸºç¡€ï¼Œä¹Ÿä¸ºæœªæ¥ç›¸å…³ç ”ç©¶çš„å¼€å±•å¥ å®šäº†è‰¯å¥½çš„æ•°æ®åŸºç¡€ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œæ•°æ®é›†çš„ä¸æ–­ä¼˜åŒ–ï¼ŒæœŸå¾…è¯¥æ•°æ®é›†èƒ½å¤Ÿåœ¨æ›´å¹¿æ³›çš„åº”ç”¨åœºæ™¯ä¸­å‘æŒ¥å…¶æ½œåŠ›ï¼ŒæŽ¨åŠ¨ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„è¿›ä¸€æ­¥å‘å±•ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®çŽ¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 çŽ¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æŽ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹ŸçŽ¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æŽ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡åž‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡åž‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŽŸç†è®²è§£ï¼ˆéžç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºŽç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŽŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŽŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŽŸç†è®²è§£é“¾æŽ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®žé™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æžœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒèŽ·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®žæ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æžœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æžœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŽŸå§‹YOLOV8ç®—æ³•åŽŸç†

åŽŸå§‹YOLOv8ç®—æ³•åŽŸç†

YOLOv8ä½œä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„æœ€æ–°ä»£è¡¨ï¼Œå±•çŽ°äº†æ·±åº¦å­¦ä¹ æŠ€æœ¯åœ¨è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­çš„å¼ºå¤§æ½œåŠ›ã€‚è¯¥ç®—æ³•åœ¨è®¾è®¡ä¸Šç»§æ‰¿äº†YOLOç³»åˆ—çš„ä¼˜è‰¯ä¼ ç»Ÿï¼ŒåŒæ—¶ç»“åˆäº†ä¼—å¤šå…ˆè¿›çš„æŠ€æœ¯åˆ›æ–°ï¼Œå½¢æˆäº†ä¸€ä¸ªé«˜æ•ˆã€ç²¾ç¡®çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ã€‚YOLOv8çš„æž¶æž„ä¸»è¦ç”±è¾“å…¥å±‚ã€ä¸»å¹²ç½‘ç»œã€é¢ˆéƒ¨ç½‘ç»œå’Œå¤´éƒ¨ç½‘ç»œå››ä¸ªæ ¸å¿ƒç»„ä»¶æž„æˆï¼Œè¿™äº›ç»„ä»¶ç›¸äº’åä½œï¼Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„ç›®æ ‡æ£€æµ‹æµç¨‹ã€‚

åœ¨YOLOv8çš„å·¥ä½œæµç¨‹ä¸­ï¼Œè¾“å…¥å±‚é¦–å…ˆæŽ¥æ”¶å›¾åƒæ•°æ®ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç¼©æ”¾å¤„ç†ï¼Œä»¥æ»¡è¶³æ¨¡åž‹æ‰€éœ€çš„è¾“å…¥å°ºå¯¸ã€‚è¿™ä¸€è¿‡ç¨‹ç¡®ä¿äº†ä¸åŒå°ºå¯¸çš„å›¾åƒèƒ½å¤Ÿè¢«ç»Ÿä¸€å¤„ç†ï¼Œä»Žè€Œæé«˜äº†æ¨¡åž‹çš„é€‚åº”æ€§å’Œçµæ´»æ€§ã€‚æŽ¥ä¸‹æ¥ï¼Œä¸»å¹²ç½‘ç»œé€šè¿‡ä¸€ç³»åˆ—å·ç§¯æ“ä½œå¯¹è¾“å…¥å›¾åƒè¿›è¡Œä¸‹é‡‡æ ·ï¼Œä»¥æå–å‡ºä¸°å¯Œçš„ç‰¹å¾ä¿¡æ¯ã€‚æ¯ä¸ªå·ç§¯å±‚éƒ½é…å¤‡äº†æ‰¹å½’ä¸€åŒ–å’ŒSiLURæ¿€æ´»å‡½æ•°ï¼Œè¿™ä¸ä»…åŠ é€Ÿäº†æ¨¡åž‹çš„æ”¶æ•›é€Ÿåº¦ï¼Œè¿˜æœ‰æ•ˆæå‡äº†ç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›ã€‚

ä¸»å¹²ç½‘ç»œçš„æ ¸å¿ƒåœ¨äºŽC2få—çš„å¼•å…¥ï¼Œè¿™ä¸€æ¨¡å—å€Ÿé‰´äº†YOLOv7ä¸­çš„E-ELANç»“æž„ï¼Œé€šè¿‡è·¨å±‚åˆ†æ”¯è¿žæŽ¥æ¥å¢žå¼ºæ¨¡åž‹çš„æ¢¯åº¦æµã€‚è¿™ç§è®¾è®¡ä½¿å¾—ä¿¡æ¯èƒ½å¤Ÿåœ¨ä¸åŒå±‚ä¹‹é—´æœ‰æ•ˆä¼ é€’ï¼Œä»Žè€Œæ”¹å–„äº†ç‰¹å¾çš„æå–æ•ˆæžœï¼Œå°¤å…¶æ˜¯åœ¨å¤æ‚åœºæ™¯ä¸‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­ï¼ŒC2få—çš„ä¼˜åŠ¿æ„ˆåŠ æ˜Žæ˜¾ã€‚ä¸»å¹²ç½‘ç»œçš„æœ«å°¾é‡‡ç”¨äº†SPPFlå—ï¼Œé€šè¿‡ä¸‰ä¸ªæœ€å¤§æ± åŒ–å±‚å¯¹å¤šå°ºåº¦ç‰¹å¾è¿›è¡Œå¤„ç†ï¼Œè¿›ä¸€æ­¥å¢žå¼ºäº†ç½‘ç»œçš„ç‰¹å¾æŠ½è±¡èƒ½åŠ›ï¼Œä½¿å¾—æ¨¡åž‹èƒ½å¤Ÿæ›´å¥½åœ°åº”å¯¹ä¸åŒå¤§å°ç›®æ ‡çš„æ£€æµ‹ã€‚

é¢ˆéƒ¨ç½‘ç»œåˆ™åˆ©ç”¨äº†FPNSï¼ˆç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼‰å’ŒPANï¼ˆè·¯å¾„èšåˆç½‘ç»œï¼‰ç»“æž„ï¼Œæ—¨åœ¨èžåˆæ¥è‡ªä¸åŒå°ºåº¦ç‰¹å¾å›¾çš„ä¿¡æ¯ã€‚è¿™ä¸€è¿‡ç¨‹è‡³å…³é‡è¦ï¼Œå› ä¸ºç›®æ ‡æ£€æµ‹å¾€å¾€éœ€è¦åŒæ—¶è€ƒè™‘å¤§ç›®æ ‡å’Œå°ç›®æ ‡çš„ç‰¹å¾ï¼Œè€ŒFPNSå’ŒPANçš„ç»“åˆèƒ½å¤Ÿæœ‰æ•ˆåœ°æå‡ç‰¹å¾èžåˆçš„æ•ˆæžœï¼Œç¡®ä¿ä¿¡æ¯åœ¨ä¸åŒå±‚æ¬¡é—´çš„æµåŠ¨é¡ºç•…ã€‚é€šè¿‡è¿™ç§å¤šå°ºåº¦ç‰¹å¾çš„èžåˆï¼ŒYOLOv8èƒ½å¤Ÿåœ¨å¤æ‚åœºæ™¯ä¸­å®žçŽ°æ›´ä¸ºç²¾å‡†çš„ç›®æ ‡å®šä½å’Œåˆ†ç±»ã€‚

æœ€åŽï¼ŒYOLOv8çš„å¤´éƒ¨ç½‘ç»œé‡‡ç”¨äº†è§£è€¦çš„æ£€æµ‹å¤´ï¼Œè®¾è®¡ä¸Šå°†å›žå½’å’Œåˆ†ç±»çš„æŸå¤±è®¡ç®—åˆ†ä¸ºä¸¤ä¸ªå¹¶è¡Œçš„å·ç§¯åˆ†æ”¯ã€‚è¿™ä¸€åˆ›æ–°ä½¿å¾—æ¨¡åž‹åœ¨å¤„ç†ç›®æ ‡æ£€æµ‹ä»»åŠ¡æ—¶ï¼Œèƒ½å¤Ÿæ›´ä¸ºçµæ´»åœ°ä¼˜åŒ–å„è‡ªçš„æŸå¤±å‡½æ•°ï¼Œä»Žè€Œæé«˜äº†æ•´ä½“çš„æ£€æµ‹ç²¾åº¦ã€‚è§£è€¦è®¾è®¡çš„å¼•å…¥ï¼Œæ„å‘³ç€YOLOv8ä¸å†ä¾èµ–äºŽä¼ ç»Ÿçš„é”šæ¡†æœºåˆ¶ï¼Œè€Œæ˜¯è½¬å‘äº†Anchor-Freeçš„æ£€æµ‹ç­–ç•¥ã€‚è¿™ä¸€è½¬å˜ä¸ä»…ç®€åŒ–äº†æ¨¡åž‹çš„ç»“æž„ï¼Œè¿˜æå‡äº†å…¶åœ¨å¤šæ ·åŒ–åœºæ™¯ä¸‹çš„é€‚åº”èƒ½åŠ›ã€‚

YOLOv8çš„åˆ›æ–°ä¹‹å¤„ä¸ä»…ä½“çŽ°åœ¨å…¶æž¶æž„è®¾è®¡ä¸Šï¼Œè¿˜åŒ…æ‹¬äº†æ–°çš„æŸå¤±å‡½æ•°çš„å¼•å…¥ã€‚è¿™ä¸€æŸå¤±å‡½æ•°ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨æ›´å¥½åœ°åæ˜ ç›®æ ‡æ£€æµ‹ä¸­çš„å®žé™…éœ€æ±‚ï¼Œä»Žè€Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å¯¼æ¨¡åž‹å­¦ä¹ åˆ°æ›´ä¸ºæœ‰æ•ˆçš„ç‰¹å¾è¡¨ç¤ºã€‚ä¸Žä»¥å¾€ç‰ˆæœ¬ç›¸æ¯”ï¼ŒYOLOv8åœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šå‡æœ‰æ˜¾è‘—æå‡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†é«˜åˆ†è¾¨çŽ‡å›¾åƒå’Œå°ç›®æ ‡æ£€æµ‹æ–¹é¢ï¼Œå±•çŽ°å‡ºäº†ä¼˜å¼‚çš„æ€§èƒ½ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8ä½œä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„æœ€æ–°è¿›å±•ï¼Œèžåˆäº†å¤šç§å…ˆè¿›çš„æŠ€æœ¯å’Œè®¾è®¡ç†å¿µï¼Œå½¢æˆäº†ä¸€ä¸ªé«˜æ•ˆã€çµæ´»ä¸”ç²¾ç¡®çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ã€‚å…¶åœ¨ä¸»å¹²ç½‘ç»œã€é¢ˆéƒ¨ç½‘ç»œå’Œå¤´éƒ¨ç½‘ç»œçš„è®¾è®¡ä¸Šå‡è¿›è¡Œäº†åˆ›æ–°ï¼Œä½¿å¾—æ¨¡åž‹èƒ½å¤Ÿåœ¨å¤æ‚åœºæ™¯ä¸­å®žçŽ°æ›´ä¸ºç²¾å‡†çš„ç›®æ ‡æ£€æµ‹ã€‚è¿™äº›æ”¹è¿›ä¸ä»…æå‡äº†YOLOv8çš„æ£€æµ‹èƒ½åŠ›ï¼Œä¹Ÿä¸ºæœªæ¥çš„ç›®æ ‡æ£€æµ‹ç ”ç©¶æä¾›äº†æ–°çš„æ€è·¯å’Œæ–¹å‘ã€‚éšç€YOLOv8çš„å¹¿æ³›åº”ç”¨ï¼Œé¢„è®¡å°†åœ¨å¤šä¸ªé¢†åŸŸå¼•å‘æ–°çš„æŠ€æœ¯å˜é©ï¼ŒæŽ¨åŠ¨ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„è¿›ä¸€æ­¥å‘å±•ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\models\sam\model.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œåˆ†æžå’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æžœï¼š

```python
# Ultralytics YOLO ðŸš€, AGPL-3.0 license
"""
SAMæ¨¡åž‹æŽ¥å£ã€‚

è¯¥æ¨¡å—æä¾›äº†Ultralyticsçš„Segment Anything Model (SAM)çš„æŽ¥å£ï¼Œæ—¨åœ¨è¿›è¡Œå®žæ—¶å›¾åƒåˆ†å‰²ä»»åŠ¡ã€‚
SAMæ¨¡åž‹å…è®¸è¿›è¡Œå¯æç¤ºçš„åˆ†å‰²ï¼Œå…·æœ‰æ— ä¸Žä¼¦æ¯”çš„å›¾åƒåˆ†æžçµæ´»æ€§ï¼Œå¹¶ä¸”å·²åœ¨SA-1Bæ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€‚
å®ƒå…·æœ‰é›¶-shotæ€§èƒ½èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨æ²¡æœ‰å…ˆå‰çŸ¥è¯†çš„æƒ…å†µä¸‹é€‚åº”æ–°çš„å›¾åƒåˆ†å¸ƒå’Œä»»åŠ¡ã€‚
"""

from pathlib import Path
from ultralytics.engine.model import Model
from ultralytics.utils.torch_utils import model_info
from .build import build_sam
from .predict import Predictor


class SAM(Model):
    """
    SAMï¼ˆSegment Anything Modelï¼‰æŽ¥å£ç±»ã€‚

    SAMæ—¨åœ¨è¿›è¡Œå¯æç¤ºçš„å®žæ—¶å›¾åƒåˆ†å‰²ã€‚å¯ä»¥ä½¿ç”¨å¤šç§æç¤ºæ–¹å¼ï¼Œå¦‚è¾¹ç•Œæ¡†ã€ç‚¹æˆ–æ ‡ç­¾ã€‚
    è¯¥æ¨¡åž‹å…·æœ‰é›¶-shotæ€§èƒ½ï¼Œå¹¶åœ¨SA-1Bæ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€‚
    """

    def __init__(self, model="sam_b.pt") -> None:
        """
        ä½¿ç”¨é¢„è®­ç»ƒæ¨¡åž‹æ–‡ä»¶åˆå§‹åŒ–SAMæ¨¡åž‹ã€‚

        å‚æ•°ï¼š
            model (str): é¢„è®­ç»ƒSAMæ¨¡åž‹æ–‡ä»¶çš„è·¯å¾„ã€‚æ–‡ä»¶åº”å…·æœ‰.ptæˆ–.pthæ‰©å±•åã€‚

        å¼‚å¸¸ï¼š
            NotImplementedError: å¦‚æžœæ¨¡åž‹æ–‡ä»¶æ‰©å±•åä¸æ˜¯.ptæˆ–.pthã€‚
        """
        # æ£€æŸ¥æ¨¡åž‹æ–‡ä»¶æ‰©å±•åæ˜¯å¦æœ‰æ•ˆ
        if model and Path(model).suffix not in (".pt", ".pth"):
            raise NotImplementedError("SAMé¢„æµ‹éœ€è¦é¢„è®­ç»ƒçš„*.ptæˆ–*.pthæ¨¡åž‹ã€‚")
        # è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•
        super().__init__(model=model, task="segment")

    def predict(self, source, stream=False, bboxes=None, points=None, labels=None, **kwargs):
        """
        å¯¹ç»™å®šçš„å›¾åƒæˆ–è§†é¢‘æºæ‰§è¡Œåˆ†å‰²é¢„æµ‹ã€‚

        å‚æ•°ï¼š
            source (str): å›¾åƒæˆ–è§†é¢‘æ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ–PIL.Imageå¯¹è±¡ï¼Œæˆ–numpy.ndarrayå¯¹è±¡ã€‚
            stream (bool, optional): å¦‚æžœä¸ºTrueï¼Œåˆ™å¯ç”¨å®žæ—¶æµã€‚é»˜è®¤ä¸ºFalseã€‚
            bboxes (list, optional): æç¤ºåˆ†å‰²çš„è¾¹ç•Œæ¡†åæ ‡åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚
            points (list, optional): æç¤ºåˆ†å‰²çš„ç‚¹åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚
            labels (list, optional): æç¤ºåˆ†å‰²çš„æ ‡ç­¾åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚

        è¿”å›žï¼š
            (list): æ¨¡åž‹é¢„æµ‹ç»“æžœã€‚
        """
        # è®¾ç½®é¢„æµ‹çš„è¦†ç›–å‚æ•°
        overrides = dict(conf=0.25, task="segment", mode="predict", imgsz=1024)
        kwargs.update(overrides)  # æ›´æ–°kwargsä»¥åŒ…å«è¦†ç›–å‚æ•°
        prompts = dict(bboxes=bboxes, points=points, labels=labels)  # åˆ›å»ºæç¤ºå­—å…¸
        # è°ƒç”¨çˆ¶ç±»çš„é¢„æµ‹æ–¹æ³•
        return super().predict(source, stream, prompts=prompts, **kwargs)

    def __call__(self, source=None, stream=False, bboxes=None, points=None, labels=None, **kwargs):
        """
        'predict'æ–¹æ³•çš„åˆ«åã€‚

        å‚æ•°ï¼š
            source (str): å›¾åƒæˆ–è§†é¢‘æ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ–PIL.Imageå¯¹è±¡ï¼Œæˆ–numpy.ndarrayå¯¹è±¡ã€‚
            stream (bool, optional): å¦‚æžœä¸ºTrueï¼Œåˆ™å¯ç”¨å®žæ—¶æµã€‚é»˜è®¤ä¸ºFalseã€‚
            bboxes (list, optional): æç¤ºåˆ†å‰²çš„è¾¹ç•Œæ¡†åæ ‡åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚
            points (list, optional): æç¤ºåˆ†å‰²çš„ç‚¹åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚
            labels (list, optional): æç¤ºåˆ†å‰²çš„æ ‡ç­¾åˆ—è¡¨ã€‚é»˜è®¤ä¸ºNoneã€‚

        è¿”å›žï¼š
            (list): æ¨¡åž‹é¢„æµ‹ç»“æžœã€‚
        """
        return self.predict(source, stream, bboxes, points, labels, **kwargs)

    def info(self, detailed=False, verbose=True):
        """
        è®°å½•æœ‰å…³SAMæ¨¡åž‹çš„ä¿¡æ¯ã€‚

        å‚æ•°ï¼š
            detailed (bool, optional): å¦‚æžœä¸ºTrueï¼Œåˆ™æ˜¾ç¤ºæœ‰å…³æ¨¡åž‹çš„è¯¦ç»†ä¿¡æ¯ã€‚é»˜è®¤ä¸ºFalseã€‚
            verbose (bool, optional): å¦‚æžœä¸ºTrueï¼Œåˆ™åœ¨æŽ§åˆ¶å°ä¸Šæ˜¾ç¤ºä¿¡æ¯ã€‚é»˜è®¤ä¸ºTrueã€‚

        è¿”å›žï¼š
            (tuple): åŒ…å«æ¨¡åž‹ä¿¡æ¯çš„å…ƒç»„ã€‚
        """
        return model_info(self.model, detailed=detailed, verbose=verbose)

    @property
    def task_map(self):
        """
        æä¾›ä»Ž'segment'ä»»åŠ¡åˆ°å…¶å¯¹åº”'é¢„æµ‹å™¨'çš„æ˜ å°„ã€‚

        è¿”å›žï¼š
            (dict): å°†'segment'ä»»åŠ¡æ˜ å°„åˆ°å…¶å¯¹åº”'é¢„æµ‹å™¨'çš„å­—å…¸ã€‚
        """
        return {"segment": {"predictor": Predictor}}
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜Žï¼š
1. **ç±»å®šä¹‰**ï¼š`SAM`ç±»ç»§æ‰¿è‡ª`Model`ç±»ï¼Œä¸»è¦ç”¨äºŽå®žçŽ°å›¾åƒåˆ†å‰²åŠŸèƒ½ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼š`__init__`æ–¹æ³•ç”¨äºŽåŠ è½½é¢„è®­ç»ƒæ¨¡åž‹ï¼Œå¹¶æ£€æŸ¥æ¨¡åž‹æ–‡ä»¶çš„æœ‰æ•ˆæ€§ã€‚
3. **é¢„æµ‹æ–¹æ³•**ï¼š`predict`æ–¹æ³•æ‰§è¡Œå®žé™…çš„åˆ†å‰²é¢„æµ‹ï¼Œæ”¯æŒå¤šç§è¾“å…¥æºå’Œæç¤ºæ–¹å¼ã€‚
4. **è°ƒç”¨æ–¹æ³•**ï¼š`__call__`æ–¹æ³•æ˜¯`predict`æ–¹æ³•çš„åˆ«åï¼Œæ–¹ä¾¿ç”¨æˆ·è°ƒç”¨ã€‚
5. **ä¿¡æ¯è®°å½•**ï¼š`info`æ–¹æ³•ç”¨äºŽèŽ·å–æ¨¡åž‹çš„ä¿¡æ¯ï¼Œä¾¿äºŽè°ƒè¯•å’Œåˆ†æžã€‚
6. **ä»»åŠ¡æ˜ å°„**ï¼š`task_map`å±žæ€§æä¾›äº†ä»»åŠ¡ä¸Žé¢„æµ‹å™¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œä¾¿äºŽæ‰©å±•å’Œç®¡ç†ä¸åŒçš„ä»»åŠ¡ã€‚

è¯¥æ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œä¸»è¦ç”¨äºŽå®žçŽ°Segment Anything Modelï¼ˆSAMï¼‰çš„æŽ¥å£ã€‚SAMæ¨¡åž‹ä¸“ä¸ºå®žæ—¶å›¾åƒåˆ†å‰²ä»»åŠ¡è®¾è®¡ï¼Œå…·æœ‰å‡ºè‰²çš„çµæ´»æ€§å’Œé›¶-shotæ€§èƒ½ï¼Œèƒ½å¤Ÿåœ¨æ²¡æœ‰å…ˆå‰çŸ¥è¯†çš„æƒ…å†µä¸‹é€‚åº”æ–°çš„å›¾åƒåˆ†å¸ƒå’Œä»»åŠ¡ã€‚è¯¥æ¨¡åž‹ç»è¿‡SA-1Bæ•°æ®é›†çš„è®­ç»ƒï¼Œæ”¯æŒé€šè¿‡è¾¹ç•Œæ¡†ã€ç‚¹æˆ–æ ‡ç­¾ç­‰å¤šç§æç¤ºè¿›è¡Œåˆ†å‰²ã€‚

åœ¨æ–‡ä»¶çš„å¼€å¤´ï¼ŒåŒ…å«äº†æ¨¡å—çš„æè¿°ä¿¡æ¯ï¼Œä»‹ç»äº†SAMæ¨¡åž‹çš„å…³é”®ç‰¹æ€§ï¼Œå¦‚å¯æç¤ºçš„åˆ†å‰²ã€å®žæ—¶æ€§èƒ½å’Œé›¶-shotè½¬ç§»èƒ½åŠ›ã€‚

æŽ¥ä¸‹æ¥ï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬`Path`ç”¨äºŽå¤„ç†æ–‡ä»¶è·¯å¾„ï¼Œ`Model`ç±»ç”¨äºŽç»§æ‰¿åŸºæœ¬æ¨¡åž‹åŠŸèƒ½ï¼Œ`model_info`ç”¨äºŽèŽ·å–æ¨¡åž‹ä¿¡æ¯ï¼Œä»¥åŠ`build_sam`å’Œ`Predictor`ç”¨äºŽæž„å»ºæ¨¡åž‹å’Œè¿›è¡Œé¢„æµ‹ã€‚

å®šä¹‰äº†ä¸€ä¸ªåä¸º`SAM`çš„ç±»ï¼Œç»§æ‰¿è‡ª`Model`ç±»ã€‚è¯¥ç±»çš„æž„é€ å‡½æ•°`__init__`æŽ¥å—ä¸€ä¸ªå‚æ•°`model`ï¼Œç”¨äºŽæŒ‡å®šé¢„è®­ç»ƒæ¨¡åž‹æ–‡ä»¶çš„è·¯å¾„ã€‚æž„é€ å‡½æ•°ä¼šæ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ˜¯å¦ä¸º`.pt`æˆ–`.pth`ï¼Œå¦‚æžœä¸æ˜¯ï¼Œåˆ™æŠ›å‡º`NotImplementedError`å¼‚å¸¸ã€‚è°ƒç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°æ—¶ï¼ŒæŒ‡å®šä»»åŠ¡ä¸ºâ€œsegmentâ€ã€‚

`_load`æ–¹æ³•ç”¨äºŽåŠ è½½æŒ‡å®šçš„æƒé‡æ–‡ä»¶åˆ°SAMæ¨¡åž‹ä¸­ã€‚è¯¥æ–¹æ³•æŽ¥å—æƒé‡æ–‡ä»¶çš„è·¯å¾„å’Œå¯é€‰çš„ä»»åŠ¡åç§°ä½œä¸ºå‚æ•°ã€‚

`predict`æ–¹æ³•ç”¨äºŽå¯¹ç»™å®šçš„å›¾åƒæˆ–è§†é¢‘æºè¿›è¡Œåˆ†å‰²é¢„æµ‹ã€‚è¯¥æ–¹æ³•æŽ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬æºæ–‡ä»¶è·¯å¾„ã€æ˜¯å¦å¯ç”¨å®žæ—¶æµã€è¾¹ç•Œæ¡†ã€ç‚¹å’Œæ ‡ç­¾ç­‰æç¤ºä¿¡æ¯ã€‚æ–¹æ³•å†…éƒ¨ä¼šæ›´æ–°ä¸€äº›é»˜è®¤å‚æ•°ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»çš„`predict`æ–¹æ³•è¿›è¡Œå®žé™…çš„é¢„æµ‹ã€‚

`__call__`æ–¹æ³•æ˜¯`predict`æ–¹æ³•çš„åˆ«åï¼Œå…è®¸ç”¨æˆ·é€šè¿‡è°ƒç”¨`SAM`ç±»çš„å®žä¾‹æ¥è¿›è¡Œé¢„æµ‹ï¼Œæä¾›ä¸Ž`predict`æ–¹æ³•ç›¸åŒçš„å‚æ•°ã€‚

`info`æ–¹æ³•ç”¨äºŽè®°å½•å…³äºŽSAMæ¨¡åž‹çš„ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯å’ŒæŽ§åˆ¶å°è¾“å‡ºã€‚

æœ€åŽï¼Œ`task_map`å±žæ€§æä¾›äº†ä¸€ä¸ªä»Žâ€œsegmentâ€ä»»åŠ¡åˆ°å…¶å¯¹åº”çš„â€œPredictorâ€çš„æ˜ å°„ï¼Œè¿”å›žä¸€ä¸ªå­—å…¸ï¼Œä¾¿äºŽåŽç»­çš„ä»»åŠ¡å¤„ç†ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¯¥æ–‡ä»¶å®žçŽ°äº†SAMæ¨¡åž‹çš„åŸºæœ¬æŽ¥å£ï¼Œæ”¯æŒå®žæ—¶å›¾åƒåˆ†å‰²ï¼Œå¹¶æä¾›äº†å¤šç§æç¤ºæ–¹å¼ï¼Œå…·æœ‰çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚

#### 11.2 code\ultralytics\models\nas\predict.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
from ultralytics.engine.predictor import BasePredictor
from ultralytics.engine.results import Results
from ultralytics.utils import ops

class NASPredictor(BasePredictor):
    """
    Ultralytics YOLO NAS é¢„æµ‹å™¨ï¼Œç”¨äºŽç›®æ ‡æ£€æµ‹ã€‚

    è¯¥ç±»æ‰©å±•äº† Ultralytics å¼•æ“Žä¸­çš„ `BasePredictor`ï¼Œè´Ÿè´£å¯¹ YOLO NAS æ¨¡åž‹ç”Ÿæˆçš„åŽŸå§‹é¢„æµ‹ç»“æžœè¿›è¡ŒåŽå¤„ç†ã€‚
    å®ƒåº”ç”¨äº†éžæžå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œå°†è¾¹ç•Œæ¡†ç¼©æ”¾åˆ°åŽŸå§‹å›¾åƒå°ºå¯¸ç­‰æ“ä½œã€‚

    Attributes:
        args (Namespace): åŒ…å«åŽå¤„ç†å„ç§é…ç½®çš„å‘½åç©ºé—´ã€‚
    """

    def postprocess(self, preds_in, img, orig_imgs):
        """å¯¹é¢„æµ‹ç»“æžœè¿›è¡ŒåŽå¤„ç†ï¼Œå¹¶è¿”å›ž Results å¯¹è±¡çš„åˆ—è¡¨ã€‚"""

        # å°†é¢„æµ‹æ¡†ä»Ž xyxy æ ¼å¼è½¬æ¢ä¸º xywh æ ¼å¼ï¼Œå¹¶å°†ç±»åˆ«åˆ†æ•°ä¸Žæ¡†åˆå¹¶
        boxes = ops.xyxy2xywh(preds_in[0][0])  # èŽ·å–è¾¹ç•Œæ¡†
        preds = torch.cat((boxes, preds_in[0][1]), -1).permute(0, 2, 1)  # åˆå¹¶è¾¹ç•Œæ¡†å’Œåˆ†æ•°

        # åº”ç”¨éžæžå¤§å€¼æŠ‘åˆ¶ï¼Œè¿‡æ»¤æŽ‰é‡å çš„è¾¹ç•Œæ¡†
        preds = ops.non_max_suppression(
            preds,
            self.args.conf,  # ç½®ä¿¡åº¦é˜ˆå€¼
            self.args.iou,   # IOU é˜ˆå€¼
            agnostic=self.args.agnostic_nms,  # æ˜¯å¦ç±»åˆ«æ— å…³çš„ NMS
            max_det=self.args.max_det,  # æœ€å¤§æ£€æµ‹æ•°é‡
            classes=self.args.classes,   # é€‰æ‹©çš„ç±»åˆ«
        )

        # å¦‚æžœè¾“å…¥å›¾åƒä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º numpy æ•°ç»„
        if not isinstance(orig_imgs, list):
            orig_imgs = ops.convert_torch2numpy_batch(orig_imgs)

        results = []  # å­˜å‚¨ç»“æžœçš„åˆ—è¡¨
        for i, pred in enumerate(preds):
            orig_img = orig_imgs[i]  # èŽ·å–åŽŸå§‹å›¾åƒ
            # å°†é¢„æµ‹æ¡†ç¼©æ”¾åˆ°åŽŸå§‹å›¾åƒçš„å°ºå¯¸
            pred[:, :4] = ops.scale_boxes(img.shape[2:], pred[:, :4], orig_img.shape)
            img_path = self.batch[0][i]  # èŽ·å–å›¾åƒè·¯å¾„
            # åˆ›å»º Results å¯¹è±¡å¹¶æ·»åŠ åˆ°ç»“æžœåˆ—è¡¨
            results.append(Results(orig_img, path=img_path, names=self.model.names, boxes=pred))
        
        return results  # è¿”å›žå¤„ç†åŽçš„ç»“æžœåˆ—è¡¨
```

### ä»£ç è¯´æ˜Žï¼š
1. **ç±»å®šä¹‰**ï¼š`NASPredictor` ç»§æ‰¿è‡ª `BasePredictor`ï¼Œç”¨äºŽå¤„ç† YOLO NAS æ¨¡åž‹çš„é¢„æµ‹ç»“æžœã€‚
2. **postprocess æ–¹æ³•**ï¼šè¯¥æ–¹æ³•è´Ÿè´£å¯¹æ¨¡åž‹çš„åŽŸå§‹é¢„æµ‹ç»“æžœè¿›è¡ŒåŽå¤„ç†ï¼ŒåŒ…æ‹¬è¾¹ç•Œæ¡†çš„æ ¼å¼è½¬æ¢ã€éžæžå¤§å€¼æŠ‘åˆ¶å’Œç¼©æ”¾ç­‰æ“ä½œã€‚
3. **è¾¹ç•Œæ¡†å¤„ç†**ï¼š
   - ä½¿ç”¨ `ops.xyxy2xywh` å°†è¾¹ç•Œæ¡†ä»Ž `xyxy` æ ¼å¼è½¬æ¢ä¸º `xywh` æ ¼å¼ã€‚
   - ä½¿ç”¨ `torch.cat` åˆå¹¶è¾¹ç•Œæ¡†å’Œç±»åˆ«åˆ†æ•°ï¼Œå¹¶è°ƒæ•´ç»´åº¦ã€‚
4. **éžæžå¤§å€¼æŠ‘åˆ¶**ï¼šé€šè¿‡ `ops.non_max_suppression` å‡½æ•°è¿‡æ»¤æŽ‰é‡å çš„è¾¹ç•Œæ¡†ï¼Œä¿ç•™æœ€æœ‰å¯èƒ½çš„æ£€æµ‹ç»“æžœã€‚
5. **å›¾åƒå¤„ç†**ï¼šå¦‚æžœè¾“å…¥çš„åŽŸå§‹å›¾åƒä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º NumPy æ•°ç»„ï¼Œä»¥ä¾¿åŽç»­å¤„ç†ã€‚
6. **ç»“æžœå­˜å‚¨**ï¼šéåŽ†æ¯ä¸ªé¢„æµ‹ç»“æžœï¼Œç¼©æ”¾è¾¹ç•Œæ¡†åˆ°åŽŸå§‹å›¾åƒå°ºå¯¸ï¼Œå¹¶åˆ›å»º `Results` å¯¹è±¡ä»¥å­˜å‚¨æœ€ç»ˆçš„æ£€æµ‹ç»“æžœã€‚

è¯¥ç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLO NASæ¨¡åž‹çš„é¢„æµ‹æ¨¡å—ï¼Œä¸»è¦ç”¨äºŽç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º`NASPredictor`çš„ç±»ï¼Œå®ƒç»§æ‰¿è‡ª`BasePredictor`ï¼Œè´Ÿè´£å¯¹YOLO NASæ¨¡åž‹ç”Ÿæˆçš„åŽŸå§‹é¢„æµ‹ç»“æžœè¿›è¡ŒåŽå¤„ç†ã€‚åŽå¤„ç†çš„æ­¥éª¤åŒ…æ‹¬éžæžå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œå°†è¾¹ç•Œæ¡†ç¼©æ”¾åˆ°åŽŸå§‹å›¾åƒçš„å°ºå¯¸ã€‚

åœ¨ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œè¯¦ç»†è¯´æ˜Žäº†è¯¥ç±»çš„åŠŸèƒ½å’Œç”¨æ³•ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨`NAS`ç±»æ¥åˆ›å»ºæ¨¡åž‹ï¼Œå¹¶åˆ©ç”¨`NASPredictor`è¿›è¡Œé¢„æµ‹åŽå¤„ç†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸ä¸ç›´æŽ¥å®žä¾‹åŒ–`NASPredictor`ç±»ï¼Œè€Œæ˜¯é€šè¿‡`NAS`ç±»å†…éƒ¨ä½¿ç”¨ã€‚

`postprocess`æ–¹æ³•æ˜¯è¯¥ç±»çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒæŽ¥æ”¶åŽŸå§‹é¢„æµ‹ç»“æžœã€è¾“å…¥å›¾åƒå’ŒåŽŸå§‹å›¾åƒä½œä¸ºå‚æ•°ã€‚é¦–å…ˆï¼Œå®ƒå°†é¢„æµ‹ç»“æžœä¸­çš„è¾¹ç•Œæ¡†åæ ‡ä»Žxyxyæ ¼å¼è½¬æ¢ä¸ºxywhæ ¼å¼ï¼Œå¹¶å°†è¾¹ç•Œæ¡†ä¸Žå¯¹åº”çš„ç±»åˆ†æ•°åˆå¹¶ã€‚æŽ¥ç€ï¼Œè°ƒç”¨`non_max_suppression`å‡½æ•°è¿›è¡Œéžæžå¤§å€¼æŠ‘åˆ¶ï¼Œä»¥åŽ»é™¤å†—ä½™çš„é‡å æ¡†ï¼Œä¿ç•™ç½®ä¿¡åº¦é«˜çš„æ¡†ã€‚

åœ¨å¤„ç†å®Œé¢„æµ‹ç»“æžœåŽï¼Œæ–¹æ³•æ£€æŸ¥è¾“å…¥çš„åŽŸå§‹å›¾åƒæ˜¯å¦ä¸ºåˆ—è¡¨ï¼Œå¦‚æžœä¸æ˜¯ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºNumPyæ•°ç»„æ ¼å¼ã€‚ç„¶åŽï¼Œé’ˆå¯¹æ¯ä¸ªé¢„æµ‹ç»“æžœï¼Œæ–¹æ³•ä¼šå°†è¾¹ç•Œæ¡†çš„åæ ‡ç¼©æ”¾åˆ°åŽŸå§‹å›¾åƒçš„å°ºå¯¸ï¼Œå¹¶åˆ›å»º`Results`å¯¹è±¡ï¼Œå­˜å‚¨åŽŸå§‹å›¾åƒã€å›¾åƒè·¯å¾„ã€ç±»åˆ«åç§°å’Œè¾¹ç•Œæ¡†ä¿¡æ¯ã€‚æœ€åŽï¼Œè¿”å›žä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»“æžœçš„åˆ—è¡¨ã€‚

æ•´ä½“è€Œè¨€ï¼Œè¯¥æ–‡ä»¶çš„åŠŸèƒ½æ˜¯å°†YOLO NASæ¨¡åž‹çš„åŽŸå§‹é¢„æµ‹ç»“æžœè¿›è¡Œå¤„ç†ï¼Œä»¥ä¾¿äºŽåŽç»­çš„åˆ†æžå’Œå¯è§†åŒ–ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python çŽ¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # èŽ·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æž„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®žä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æŽ¥æŒ‡å®šè„šæœ¬åç§°

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜Žï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `import sys`ï¼šå¯¼å…¥ sys æ¨¡å—ï¼Œç”¨äºŽè®¿é—®ä¸Ž Python è§£é‡Šå™¨ç´§å¯†ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `import subprocess`ï¼šå¯¼å…¥ subprocess æ¨¡å—ï¼Œç”¨äºŽåˆ›å»ºæ–°è¿›ç¨‹ã€è¿žæŽ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶èŽ·å–å®ƒä»¬çš„è¿”å›žç ã€‚

2. **å®šä¹‰å‡½æ•° `run_script`**ï¼š
   - `def run_script(script_path):`ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒæŽ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚

3. **èŽ·å– Python è§£é‡Šå™¨è·¯å¾„**ï¼š
   - `python_path = sys.executable`ï¼šèŽ·å–å½“å‰ Python è§£é‡Šå™¨çš„å®Œæ•´è·¯å¾„ï¼Œä»¥ä¾¿åŽç»­è¿è¡Œè„šæœ¬æ—¶ä½¿ç”¨ã€‚

4. **æž„å»ºè¿è¡Œå‘½ä»¤**ï¼š
   - `command = f'"{python_path}" -m streamlit run "{script_path}"'`ï¼šæž„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

5. **æ‰§è¡Œå‘½ä»¤**ï¼š
   - `result = subprocess.run(command, shell=True)`ï¼šä½¿ç”¨ `subprocess.run` æ‰§è¡Œæž„å»ºçš„å‘½ä»¤ï¼Œ`shell=True` è¡¨ç¤ºåœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚

6. **æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æžœ**ï¼š
   - `if result.returncode != 0:`ï¼šæ£€æŸ¥å‘½ä»¤çš„è¿”å›žç ï¼Œå¦‚æžœä¸ä¸º 0ï¼Œè¡¨ç¤ºæ‰§è¡Œå‡ºé”™ã€‚
   - `print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")`ï¼šå¦‚æžœå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

7. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - `if __name__ == "__main__":`ï¼šæ£€æŸ¥å½“å‰æ¨¡å—æ˜¯å¦æ˜¯ä¸»ç¨‹åºè¿è¡Œçš„æ¨¡å—ã€‚
   - `script_path = "web.py"`ï¼šæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬åç§°ã€‚
   - `run_script(script_path)`ï¼šè°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python çŽ¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯é€šè¿‡ Streamlit æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸Žç³»ç»Ÿäº¤äº’å’Œæ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯èƒ½ç”¨äºŽèŽ·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆèŽ·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä½¿ç”¨ `sys.executable` æ¥å®žçŽ°ã€‚æŽ¥ç€ï¼Œæž„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå‘½ä»¤å°†ä½¿ç”¨ Streamlit æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚å‘½ä»¤çš„æ ¼å¼æ˜¯ `python -m streamlit run script_path`ï¼Œå…¶ä¸­ `script_path` æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚

ç„¶åŽï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶è¿”å›žä¸€ä¸ªç»“æžœå¯¹è±¡ã€‚é€šè¿‡æ£€æŸ¥ `result.returncode`ï¼Œå¯ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚å¦‚æžœè¿”å›žç ä¸ä¸ºé›¶ï¼Œè¯´æ˜Žè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åŽéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æŽ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚åœ¨è¿™é‡Œï¼ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥å¯åŠ¨è¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºæ˜¯ä¸€ä¸ªç®€å•çš„è„šæœ¬å¯åŠ¨å™¨ï¼Œæ—¨åœ¨æ–¹ä¾¿åœ°è¿è¡Œä¸€ä¸ª Streamlit Web åº”ç”¨ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\solutions\ai_gym.py

ä»¥ä¸‹æ˜¯ä¿ç•™çš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import cv2
from ultralytics.utils.plotting import Annotator

class AIGym:
    """ç®¡ç†å®žæ—¶è§†é¢‘æµä¸­äººä»¬å§¿åŠ¿çš„å¥èº«æ­¥éª¤çš„ç±»ã€‚"""

    def __init__(self):
        """åˆå§‹åŒ–AIGymï¼Œè®¾ç½®è§†è§‰å’Œå›¾åƒå‚æ•°çš„é»˜è®¤å€¼ã€‚"""
        self.im0 = None  # å½“å‰å¸§å›¾åƒ
        self.tf = None   # çº¿æ¡åŽšåº¦
        self.keypoints = None  # å§¿åŠ¿å…³é”®ç‚¹
        self.poseup_angle = None  # ä¸Šå‡å§¿åŠ¿çš„è§’åº¦é˜ˆå€¼
        self.posedown_angle = None  # ä¸‹é™å§¿åŠ¿çš„è§’åº¦é˜ˆå€¼
        self.angle = None  # å½“å‰è§’åº¦
        self.count = None  # å½“å‰è®¡æ•°
        self.stage = None  # å½“å‰é˜¶æ®µï¼ˆä¸Šå‡æˆ–ä¸‹é™ï¼‰
        self.pose_type = 'pushup'  # å§¿åŠ¿ç±»åž‹ï¼ˆä¿¯å§æ’‘ã€å¼•ä½“å‘ä¸Šæˆ–è…¹éƒ¨é”»ç‚¼ï¼‰
        self.view_img = False  # æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
        self.annotator = None  # æ³¨é‡Šå™¨å¯¹è±¡

    def set_args(self, kpts_to_check, line_thickness=2, view_img=False, pose_up_angle=145.0, pose_down_angle=90.0, pose_type='pullup'):
        """
        é…ç½®AIGymçš„å‚æ•°ã€‚
        Args:
            kpts_to_check (list): ç”¨äºŽè®¡æ•°çš„3ä¸ªå…³é”®ç‚¹
            line_thickness (int): è¾¹ç•Œæ¡†çš„çº¿æ¡åŽšåº¦
            view_img (bool): æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
            pose_up_angle (float): è®¾ç½®ä¸Šå‡å§¿åŠ¿çš„è§’åº¦
            pose_down_angle (float): è®¾ç½®ä¸‹é™å§¿åŠ¿çš„è§’åº¦
            pose_type: "pushup", "pullup" æˆ– "abworkout"
        """
        self.kpts_to_check = kpts_to_check  # è®¾ç½®éœ€è¦æ£€æŸ¥çš„å…³é”®ç‚¹
        self.tf = line_thickness  # è®¾ç½®çº¿æ¡åŽšåº¦
        self.view_img = view_img  # è®¾ç½®æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
        self.poseup_angle = pose_up_angle  # è®¾ç½®ä¸Šå‡å§¿åŠ¿çš„è§’åº¦é˜ˆå€¼
        self.posedown_angle = pose_down_angle  # è®¾ç½®ä¸‹é™å§¿åŠ¿çš„è§’åº¦é˜ˆå€¼
        self.pose_type = pose_type  # è®¾ç½®å§¿åŠ¿ç±»åž‹

    def start_counting(self, im0, results, frame_count):
        """
        è®¡æ•°å¥èº«æ­¥éª¤çš„å‡½æ•°ã€‚
        Args:
            im0 (ndarray): å½“å‰è§†é¢‘æµå¸§
            results: å§¿åŠ¿ä¼°è®¡æ•°æ®
            frame_count: å½“å‰å¸§è®¡æ•°
        """
        self.im0 = im0  # ä¿å­˜å½“å‰å¸§å›¾åƒ
        if frame_count == 1:
            # åˆå§‹åŒ–è®¡æ•°ã€è§’åº¦å’Œé˜¶æ®µ
            self.count = [0] * len(results[0])
            self.angle = [0] * len(results[0])
            self.stage = ['-' for _ in results[0]]
        
        self.keypoints = results[0].keypoints.data  # èŽ·å–å…³é”®ç‚¹æ•°æ®
        self.annotator = Annotator(im0, line_width=2)  # åˆ›å»ºæ³¨é‡Šå™¨å¯¹è±¡

        for ind, k in enumerate(reversed(self.keypoints)):
            # ä¼°è®¡å§¿åŠ¿è§’åº¦å¹¶æ›´æ–°è®¡æ•°å’Œé˜¶æ®µ
            self.angle[ind] = self.annotator.estimate_pose_angle(k[int(self.kpts_to_check[0])].cpu(),
                                                                 k[int(self.kpts_to_check[1])].cpu(),
                                                                 k[int(self.kpts_to_check[2])].cpu())
            self.im0 = self.annotator.draw_specific_points(k, self.kpts_to_check, shape=(640, 640), radius=10)

            # æ ¹æ®å§¿åŠ¿ç±»åž‹æ›´æ–°é˜¶æ®µå’Œè®¡æ•°
            if self.pose_type == 'pushup':
                if self.angle[ind] > self.poseup_angle:
                    self.stage[ind] = 'up'
                if self.angle[ind] < self.posedown_angle and self.stage[ind] == 'up':
                    self.stage[ind] = 'down'
                    self.count[ind] += 1

            elif self.pose_type == 'pullup':
                if self.angle[ind] > self.poseup_angle:
                    self.stage[ind] = 'down'
                if self.angle[ind] < self.posedown_angle and self.stage[ind] == 'down':
                    self.stage[ind] = 'up'
                    self.count[ind] += 1

            # ç»˜åˆ¶è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µä¿¡æ¯
            self.annotator.plot_angle_and_count_and_stage(angle_text=self.angle[ind],
                                                          count_text=self.count[ind],
                                                          stage_text=self.stage[ind],
                                                          center_kpt=k[int(self.kpts_to_check[1])],
                                                          line_thickness=self.tf)

            self.annotator.kpts(k, shape=(640, 640), radius=1, kpt_line=True)  # ç»˜åˆ¶å…³é”®ç‚¹

        # å¦‚æžœéœ€è¦æ˜¾ç¤ºå›¾åƒï¼Œåˆ™æ˜¾ç¤ºå½“å‰å¸§
        if self.view_img:
            cv2.imshow('Ultralytics YOLOv8 AI GYM', self.im0)
            if cv2.waitKey(1) & 0xFF == ord('q'):
                return

if __name__ == '__main__':
    AIGym()  # åˆ›å»ºAIGymå®žä¾‹
```

### ä»£ç è¯´æ˜Žï¼š
1. **ç±»åˆå§‹åŒ–**ï¼š`__init__` æ–¹æ³•ä¸­åˆå§‹åŒ–äº†ä¸€äº›å˜é‡ï¼Œç”¨äºŽå­˜å‚¨å›¾åƒã€çº¿æ¡åŽšåº¦ã€å…³é”®ç‚¹ã€è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µç­‰ä¿¡æ¯ã€‚
2. **å‚æ•°è®¾ç½®**ï¼š`set_args` æ–¹æ³•ç”¨äºŽé…ç½®å…³é”®ç‚¹ã€çº¿æ¡åŽšåº¦ã€æ˜¯å¦æ˜¾ç¤ºå›¾åƒä»¥åŠå§¿åŠ¿çš„ä¸Šä¸‹è§’åº¦é˜ˆå€¼ç­‰å‚æ•°ã€‚
3. **è®¡æ•°é€»è¾‘**ï¼š`start_counting` æ–¹æ³•å®žçŽ°äº†å¯¹å½“å‰å¸§çš„å¤„ç†ï¼ŒåŒ…æ‹¬å§¿åŠ¿è§’åº¦çš„ä¼°è®¡ã€é˜¶æ®µçš„åˆ¤æ–­å’Œè®¡æ•°çš„æ›´æ–°ï¼Œå¹¶ä½¿ç”¨ `Annotator` ç±»è¿›è¡Œå¯è§†åŒ–å±•ç¤ºã€‚æ ¹æ®ä¸åŒçš„å§¿åŠ¿ç±»åž‹ï¼ˆä¿¯å§æ’‘ã€å¼•ä½“å‘ä¸Šï¼‰ï¼Œä¼šæœ‰ä¸åŒçš„è®¡æ•°é€»è¾‘ã€‚
4. **å›¾åƒæ˜¾ç¤º**ï¼šå¦‚æžœè®¾ç½®äº†æ˜¾ç¤ºå›¾åƒï¼Œåˆ™ä½¿ç”¨ OpenCV æ˜¾ç¤ºå½“å‰å¸§ï¼Œå¹¶åœ¨æŒ‰ä¸‹ 'q' é”®æ—¶é€€å‡ºæ˜¾ç¤ºã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `AIGym` çš„ç±»ï¼Œä¸»è¦ç”¨äºŽåœ¨å®žæ—¶è§†é¢‘æµä¸­åŸºäºŽäººä½“å§¿æ€ç®¡ç†å¥èº«åŠ¨ä½œçš„è®¡æ•°ã€‚ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯é€šè¿‡åˆ†æžè§†é¢‘æµä¸­çš„äººä½“å…³é”®ç‚¹ï¼Œæ¥åˆ¤æ–­ç”¨æˆ·çš„å¥èº«åŠ¨ä½œï¼ˆå¦‚ä¿¯å§æ’‘ã€å¼•ä½“å‘ä¸Šç­‰ï¼‰ï¼Œå¹¶å®žæ—¶ç»Ÿè®¡åŠ¨ä½œçš„æ•°é‡ã€‚

åœ¨ `AIGym` ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œè®¾ç½®äº†ä¸€äº›é»˜è®¤å€¼ï¼ŒåŒ…æ‹¬å›¾åƒå¤„ç†å‚æ•°ã€å…³é”®ç‚¹ä¿¡æ¯ã€è§’åº¦é˜ˆå€¼ã€è®¡æ•°ä¿¡æ¯ç­‰ã€‚ç±»ä¸­å®šä¹‰äº†ä¸€äº›å±žæ€§ï¼Œä¾‹å¦‚ `im0` ç”¨äºŽå­˜å‚¨å½“å‰å¸§å›¾åƒï¼Œ`keypoints` ç”¨äºŽå­˜å‚¨æ£€æµ‹åˆ°çš„å…³é”®ç‚¹ï¼Œ`count` ç”¨äºŽè®°å½•åŠ¨ä½œçš„è®¡æ•°ï¼Œ`stage` ç”¨äºŽè¡¨ç¤ºå½“å‰åŠ¨ä½œçš„é˜¶æ®µï¼ˆå¦‚ä¸Šã€ä¸‹ï¼‰ï¼Œä»¥åŠ `pose_type` ç”¨äºŽæŒ‡å®šå½“å‰çš„å¥èº«åŠ¨ä½œç±»åž‹ã€‚

`set_args` æ–¹æ³•ç”¨äºŽé…ç½®ä¸€äº›å‚æ•°ï¼ŒåŒ…æ‹¬éœ€è¦æ£€æŸ¥çš„å…³é”®ç‚¹ã€çº¿æ¡åŽšåº¦ã€æ˜¯å¦æ˜¾ç¤ºå›¾åƒã€ä¸Šä¸¾å’Œä¸‹æ”¾çš„è§’åº¦é˜ˆå€¼ï¼Œä»¥åŠåŠ¨ä½œç±»åž‹ã€‚è¿™ä¸ªæ–¹æ³•å…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦è‡ªå®šä¹‰å¥èº«åŠ¨ä½œçš„æ£€æµ‹ã€‚

`start_counting` æ–¹æ³•æ˜¯ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒæŽ¥æ”¶å½“å‰å¸§å›¾åƒã€å§¿æ€ä¼°è®¡ç»“æžœå’Œå¸§è®¡æ•°ä½œä¸ºè¾“å…¥ã€‚è¯¥æ–¹æ³•é¦–å…ˆåˆå§‹åŒ–è®¡æ•°å’Œè§’åº¦åˆ—è¡¨ï¼Œç„¶åŽæå–å…³é”®ç‚¹æ•°æ®ã€‚æŽ¥ç€ï¼Œæ ¹æ®ä¸åŒçš„åŠ¨ä½œç±»åž‹ï¼ˆå¦‚ä¿¯å§æ’‘ã€å¼•ä½“å‘ä¸Šæˆ–è…¹éƒ¨é”»ç‚¼ï¼‰ï¼Œè®¡ç®—å…³é”®ç‚¹ä¹‹é—´çš„è§’åº¦ï¼Œå¹¶æ ¹æ®è®¾å®šçš„è§’åº¦é˜ˆå€¼åˆ¤æ–­å½“å‰åŠ¨ä½œçš„é˜¶æ®µã€‚æ ¹æ®é˜¶æ®µçš„å˜åŒ–ï¼Œæ›´æ–°è®¡æ•°å¹¶åœ¨å›¾åƒä¸Šç»˜åˆ¶ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µã€‚

åœ¨æ¯ä¸ªå¾ªçŽ¯ä¸­ï¼Œç¨‹åºä¼šè°ƒç”¨ `Annotator` ç±»çš„æ–¹æ³•æ¥ç»˜åˆ¶å…³é”®ç‚¹å’Œå…¶ä»–ä¿¡æ¯ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ˜¾ç¤ºå›¾åƒã€‚æœ€åŽï¼Œå¦‚æžœç”¨æˆ·æŒ‰ä¸‹ 'q' é”®ï¼Œç¨‹åºå°†é€€å‡ºå›¾åƒæ˜¾ç¤ºã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªç¨‹åºé€šè¿‡å®žæ—¶åˆ†æžè§†é¢‘æµä¸­çš„äººä½“å§¿æ€ï¼Œå¸®åŠ©ç”¨æˆ·ç»Ÿè®¡å¥èº«åŠ¨ä½œçš„æ•°é‡ï¼Œå…·æœ‰å¾ˆå¥½çš„å®žç”¨æ€§å’Œäº¤äº’æ€§ã€‚

#### 11.5 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    åŸºäºŽæ£€æµ‹æ¨¡åž‹çš„è®­ç»ƒç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerç±»ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æž„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train`è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val`è¡¨ç¤ºéªŒè¯æ¨¡å¼ã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œé€‚ç”¨äºŽ`rect`æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æž„é€ å¹¶è¿”å›žæ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]
        with torch_distributed_zero_first(rank):  # ä»…åœ¨DDPä¸­åˆå§‹åŒ–æ•°æ®é›†*.cacheä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›žæ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å½’ä¸€åŒ–å›¾åƒ
        if self.args.multi_scale:  # å¦‚æžœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è°ƒæ•´å›¾åƒå¤§å°
            batch["img"] = imgs
        return batch

    def set_model_attributes(self):
        """è®¾ç½®æ¨¡åž‹çš„å±žæ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œåç§°ã€‚"""
        self.model.nc = self.data["nc"]  # å°†ç±»åˆ«æ•°é‡é™„åŠ åˆ°æ¨¡åž‹
        self.model.names = self.data["names"]  # å°†ç±»åˆ«åç§°é™„åŠ åˆ°æ¨¡åž‹
        self.model.args = self.args  # å°†è¶…å‚æ•°é™„åŠ åˆ°æ¨¡åž‹

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›žYOLOæ£€æµ‹æ¨¡åž‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )
```

### ä»£ç è¯´æ˜Žï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šå¯¼å…¥å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬PyTorchå’ŒUltralyticsçš„ç›¸å…³æ¨¡å—ã€‚
2. **DetectionTrainerç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª`BaseTrainer`çš„ç±»ï¼Œä¸“é—¨ç”¨äºŽè®­ç»ƒYOLOæ£€æµ‹æ¨¡åž‹ã€‚
3. **build_datasetæ–¹æ³•**ï¼šæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼æž„å»ºYOLOæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚
4. **get_dataloaderæ–¹æ³•**ï¼šæž„é€ æ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚
5. **preprocess_batchæ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¯é€‰çš„å¤šå°ºåº¦è°ƒæ•´ã€‚
6. **set_model_attributesæ–¹æ³•**ï¼šè®¾ç½®æ¨¡åž‹çš„ç±»åˆ«æ•°é‡å’Œåç§°ç­‰å±žæ€§ã€‚
7. **get_modelæ–¹æ³•**ï¼šè¿”å›žä¸€ä¸ªYOLOæ£€æµ‹æ¨¡åž‹ï¼Œå¯ä»¥é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
8. **plot_training_samplesæ–¹æ³•**ï¼šç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šï¼Œä¾¿äºŽå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºŽè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡åž‹çš„å®žçŽ°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚å®ƒåŒ…å«äº†ä¸€ç³»åˆ—ç”¨äºŽæž„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡åž‹å±žæ€§ã€èŽ·å–æ¨¡åž‹ã€éªŒè¯æ¨¡åž‹ã€è®°å½•æŸå¤±ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’Œç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡çš„åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶ä¸­å¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ ç›¸å…³çš„åº“ï¼ˆå¦‚ PyTorchï¼‰ä»¥åŠ Ultralytics æä¾›çš„å„ç§å·¥å…·å’Œæ¨¡åž‹ã€‚`DetectionTrainer` ç±»çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºç›®æ ‡æ£€æµ‹ä»»åŠ¡æä¾›ä¸€ä¸ªè®­ç»ƒæ¡†æž¶ã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ä¼ å…¥çš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æž„å»º YOLO æ•°æ®é›†ã€‚å®ƒä½¿ç”¨ `build_yolo_dataset` å‡½æ•°æ¥åˆ›å»ºæ•°æ®é›†ï¼Œå¹¶æ”¯æŒä¸åŒçš„å¢žå¼ºæ–¹å¼ã€‚

`get_dataloader` æ–¹æ³•ç”¨äºŽæž„å»ºæ•°æ®åŠ è½½å™¨ã€‚å®ƒä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼ˆå¦‚æ•°æ®é›†è·¯å¾„ã€æ‰¹é‡å¤§å°å’Œæ¨¡å¼ï¼‰è¿”å›žä¸€ä¸ªæ•°æ®åŠ è½½å™¨ï¼Œå¹¶åœ¨åˆ†å¸ƒå¼è®­ç»ƒæ—¶ç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚

`preprocess_batch` æ–¹æ³•è´Ÿè´£å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚è¯¥æ–¹æ³•è¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå¤§å°æ¥å¢žå¼ºæ¨¡åž‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºŽè®¾ç½®æ¨¡åž‹çš„å±žæ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ï¼Œä»¥ç¡®ä¿æ¨¡åž‹èƒ½å¤Ÿæ­£ç¡®å¤„ç†è¾“å…¥æ•°æ®ã€‚

`get_model` æ–¹æ³•è¿”å›žä¸€ä¸ª YOLO æ£€æµ‹æ¨¡åž‹å®žä¾‹ï¼Œå¹¶å¯ä»¥åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›žä¸€ä¸ªç”¨äºŽéªŒè¯æ¨¡åž‹æ€§èƒ½çš„ `DetectionValidator` å®žä¾‹ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¯„ä¼°æ¨¡åž‹çš„æ•ˆæžœã€‚

`label_loss_items` æ–¹æ³•ç”¨äºŽè¿”å›žä¸€ä¸ªåŒ…å«è®­ç»ƒæŸå¤±é¡¹çš„å­—å…¸ï¼Œè¿™å¯¹äºŽç›®æ ‡æ£€æµ‹ä»»åŠ¡æ˜¯å¿…è¦çš„ã€‚

`progress_string` æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œç”¨äºŽæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®žä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºŽç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œä»¥ä¾¿å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚

æœ€åŽï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•ç”¨äºŽç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­è®°å½•çš„æŒ‡æ ‡å’Œæ ‡ç­¾ï¼Œä»¥ä¾¿åˆ†æžæ¨¡åž‹çš„è®­ç»ƒæ•ˆæžœã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒæ¡†æž¶ï¼Œèƒ½å¤Ÿå¤„ç†æ•°æ®åŠ è½½ã€é¢„å¤„ç†ã€æ¨¡åž‹è®­ç»ƒå’Œè¯„ä¼°ç­‰ä»»åŠ¡ï¼Œä¸ºç”¨æˆ·æä¾›äº†çµæ´»çš„è®­ç»ƒå’ŒéªŒè¯å·¥å…·ã€‚

#### 11.6 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\engine\exporter.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„ä»£ç ï¼Œä¿ç•™äº†æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼š

```python
import json
import os
import shutil
import subprocess
import time
import warnings
from copy import deepcopy
from datetime import datetime
from pathlib import Path

import numpy as np
import torch

from ultralytics.cfg import get_cfg
from ultralytics.utils import (LOGGER, __version__, yaml_save)
from ultralytics.utils.checks import check_imgsz, check_requirements
from ultralytics.utils.torch_utils import select_device

class Exporter:
    """
    æ¨¡åž‹å¯¼å‡ºç±»ï¼Œç”¨äºŽå°†YOLOv8æ¨¡åž‹å¯¼å‡ºä¸ºä¸åŒæ ¼å¼ã€‚
    """

    def __init__(self, cfg='default_cfg.yaml', overrides=None):
        """
        åˆå§‹åŒ–Exporterç±»ã€‚

        å‚æ•°:
            cfg (str): é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º'default_cfg.yaml'ã€‚
            overrides (dict): é…ç½®è¦†ç›–é¡¹ï¼Œé»˜è®¤ä¸ºNoneã€‚
        """
        self.args = get_cfg(cfg, overrides)  # èŽ·å–é…ç½®
        self.callbacks = []  # åˆå§‹åŒ–å›žè°ƒåˆ—è¡¨

    def __call__(self, model=None):
        """æ‰§è¡Œå¯¼å‡ºæ“ä½œï¼Œè¿”å›žå¯¼å‡ºæ–‡ä»¶åˆ—è¡¨ã€‚"""
        t = time.time()  # è®°å½•å¼€å§‹æ—¶é—´
        fmt = self.args.format.lower()  # èŽ·å–å¯¼å‡ºæ ¼å¼å¹¶è½¬ä¸ºå°å†™

        # é€‰æ‹©è®¾å¤‡
        self.device = select_device('cpu' if self.args.device is None else self.args.device)

        # æ£€æŸ¥æ¨¡åž‹
        model.eval()  # è®¾ç½®æ¨¡åž‹ä¸ºè¯„ä¼°æ¨¡å¼
        model = deepcopy(model).to(self.device)  # æ·±æ‹·è´æ¨¡åž‹å¹¶è½¬ç§»åˆ°æŒ‡å®šè®¾å¤‡

        # è¾“å…¥æ•°æ®
        im = torch.zeros(self.args.batch, 3, *self.args.imgsz).to(self.device)  # åˆ›å»ºè¾“å…¥å¼ é‡

        # æ‰§è¡Œå¹²è¿è¡Œä»¥ç¡®ä¿æ¨¡åž‹å¯ä»¥æ­£å¸¸è¿è¡Œ
        for _ in range(2):
            model(im)  # å¹²è¿è¡Œ

        # å¯¼å‡ºæ¨¡åž‹
        f = []  # å­˜å‚¨å¯¼å‡ºæ–‡ä»¶è·¯å¾„
        if fmt == 'onnx':
            f.append(self.export_onnx(model, im))  # å¯¼å‡ºä¸ºONNXæ ¼å¼

        # å®Œæˆå¯¼å‡º
        LOGGER.info(f'å¯¼å‡ºå®Œæˆï¼Œè€—æ—¶{time.time() - t:.1f}sï¼Œæ–‡ä»¶ä¿å­˜è‡³: {f}')
        return f  # è¿”å›žå¯¼å‡ºæ–‡ä»¶åˆ—è¡¨

    def export_onnx(self, model, im):
        """å¯¼å‡ºä¸ºONNXæ ¼å¼çš„æ¨¡åž‹ã€‚"""
        import onnx  # å¯¼å…¥ONNXåº“
        f = str(Path(model.pt_path).with_suffix('.onnx'))  # è®¾ç½®å¯¼å‡ºæ–‡ä»¶å

        # æ‰§è¡Œå¯¼å‡º
        torch.onnx.export(
            model.cpu(),  # å°†æ¨¡åž‹è½¬ç§»åˆ°CPU
            im.cpu(),  # å°†è¾“å…¥è½¬ç§»åˆ°CPU
            f,  # å¯¼å‡ºæ–‡ä»¶è·¯å¾„
            input_names=['images'],  # è¾“å…¥åç§°
            output_names=['output0'],  # è¾“å‡ºåç§°
            dynamic_axes={'images': {0: 'batch', 2: 'height', 3: 'width'}}  # åŠ¨æ€è½´
        )

        # è¿”å›žå¯¼å‡ºæ–‡ä»¶è·¯å¾„
        return f

# ç¤ºä¾‹ç”¨æ³•
# exporter = Exporter(cfg='path/to/config.yaml')
# exported_files = exporter(model)
```

### ä»£ç æ³¨é‡Šè¯´æ˜Žï¼š

1. **å¯¼å…¥å¿…è¦çš„åº“**ï¼šå¯¼å…¥äº†ç”¨äºŽæ¨¡åž‹å¯¼å‡ºå’Œå¤„ç†çš„å¿…è¦åº“ï¼Œå¦‚`torch`ã€`json`ã€`os`ç­‰ã€‚

2. **Exporterç±»**ï¼šå®šä¹‰äº†ä¸€ä¸ª`Exporter`ç±»ï¼Œç”¨äºŽå¤„ç†æ¨¡åž‹çš„å¯¼å‡ºã€‚

3. **åˆå§‹åŒ–æ–¹æ³•**ï¼šåœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼ŒèŽ·å–é…ç½®å¹¶è®¾ç½®å›žè°ƒåˆ—è¡¨ã€‚

4. **è°ƒç”¨æ–¹æ³•**ï¼šé‡è½½äº†`__call__`æ–¹æ³•ï¼Œä½¿å¾—å¯ä»¥ç›´æŽ¥è°ƒç”¨`Exporter`å®žä¾‹è¿›è¡Œå¯¼å‡ºæ“ä½œã€‚è¯¥æ–¹æ³•ä¼šé€‰æ‹©è®¾å¤‡ã€æ£€æŸ¥æ¨¡åž‹å¹¶æ‰§è¡Œå¹²è¿è¡Œï¼Œæœ€åŽè°ƒç”¨å¯¼å‡ºæ–¹æ³•ã€‚

5. **å¯¼å‡ºONNXæ–¹æ³•**ï¼šå®šä¹‰äº†`export_onnx`æ–¹æ³•ï¼Œè´Ÿè´£å°†æ¨¡åž‹å¯¼å‡ºä¸ºONNXæ ¼å¼ã€‚ä½¿ç”¨`torch.onnx.export`å‡½æ•°è¿›è¡Œå¯¼å‡ºï¼Œå¹¶è®¾ç½®è¾“å…¥è¾“å‡ºåç§°å’ŒåŠ¨æ€è½´ã€‚

6. **ç¤ºä¾‹ç”¨æ³•**ï¼šæä¾›äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨`Exporter`ç±»è¿›è¡Œæ¨¡åž‹å¯¼å‡ºã€‚

è¿™ä¸ªç®€åŒ–ç‰ˆæœ¬ä¿ç•™äº†æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶æä¾›äº†æ¸…æ™°çš„ä¸­æ–‡æ³¨é‡Šï¼Œæ–¹ä¾¿ç†è§£ä»£ç çš„ä½œç”¨å’Œæµç¨‹ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ç”¨äºŽå°†YOLOv8æ¨¡åž‹å¯¼å‡ºä¸ºå¤šç§æ ¼å¼çš„å·¥å…·ï¼Œä¸»è¦æ˜¯é’ˆå¯¹PyTorchæ¨¡åž‹çš„è½¬æ¢å’Œå¯¼å‡ºã€‚æ–‡ä»¶ä¸­é¦–å…ˆåˆ—å‡ºäº†æ”¯æŒçš„å¯¼å‡ºæ ¼å¼ï¼ŒåŒ…æ‹¬PyTorchã€TorchScriptã€ONNXã€OpenVINOã€TensorRTã€CoreMLã€TensorFlow SavedModelã€TensorFlow GraphDefã€TensorFlow Liteã€TensorFlow Edge TPUã€TensorFlow.jsã€PaddlePaddleå’Œncnnç­‰ã€‚æ¯ç§æ ¼å¼éƒ½æœ‰ç›¸åº”çš„å‘½ä»¤è¡Œå‚æ•°å’Œè¾“å‡ºæ–‡ä»¶åçš„ç¤ºä¾‹ã€‚

ç¨‹åºä¸­å®šä¹‰äº†å¤šä¸ªå‡½æ•°å’Œç±»ï¼Œä¸»è¦åŒ…æ‹¬å¯¼å‡ºæ ¼å¼çš„å®šä¹‰ã€TensorFlow GraphDefæ¨¡åž‹è¾“å‡ºèŠ‚ç‚¹åç§°çš„èŽ·å–ã€å¯¼å‡ºè¿‡ç¨‹çš„è£…é¥°å™¨ã€ä»¥åŠä¸€ä¸ªExporterç±»ã€‚Exporterç±»æ˜¯å¯¼å‡ºæ¨¡åž‹çš„æ ¸å¿ƒï¼ŒåŒ…å«äº†æ¨¡åž‹çš„åˆå§‹åŒ–ã€å¯¼å‡ºé€»è¾‘å’Œå„ç§æ ¼å¼çš„å¯¼å‡ºæ–¹æ³•ã€‚

åœ¨Exporterç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œé…ç½®äº†å¯¼å‡ºå‚æ•°ï¼ŒåŒ…æ‹¬æ¨¡åž‹çš„é…ç½®æ–‡ä»¶è·¯å¾„ã€è¦†ç›–çš„å‚æ•°å’Œå›žè°ƒå‡½æ•°ã€‚å¯¼å‡ºè¿‡ç¨‹é€šè¿‡è°ƒç”¨`__call__`æ–¹æ³•å¼€å§‹ï¼Œè¯¥æ–¹æ³•ä¼šæ£€æŸ¥å¯¼å‡ºæ ¼å¼çš„æœ‰æ•ˆæ€§ã€è®¾å¤‡é€‰æ‹©ã€æ¨¡åž‹çš„å‡†å¤‡ç­‰ï¼Œå¹¶åœ¨å¯¼å‡ºè¿‡ç¨‹ä¸­è¿è¡Œç›¸åº”çš„å›žè°ƒå‡½æ•°ã€‚

å¯¼å‡ºæ–¹æ³•åŒ…æ‹¬å¯¹TorchScriptã€ONNXã€OpenVINOã€TensorRTã€CoreMLã€TensorFlowç­‰æ ¼å¼çš„æ”¯æŒã€‚æ¯ä¸ªå¯¼å‡ºæ–¹æ³•éƒ½ä½¿ç”¨äº†è£…é¥°å™¨`@try_export`ï¼Œç”¨äºŽæ•èŽ·å¯¼å‡ºè¿‡ç¨‹ä¸­çš„å¼‚å¸¸å¹¶è®°å½•æ—¥å¿—ã€‚å¯¼å‡ºè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œæ¨¡åž‹çš„é¢„å¤„ç†ï¼ŒåŒ…æ‹¬åŠ¨æ€è½´çš„è®¾ç½®ã€è¾“å…¥è¾“å‡ºçš„å½¢çŠ¶æ£€æŸ¥ã€æ¨¡åž‹çš„è½¬æ¢ç­‰ã€‚

æ–‡ä»¶ä¸­è¿˜åŒ…å«äº†å¯¹æ¨¡åž‹å…ƒæ•°æ®çš„å¤„ç†ï¼Œç¡®ä¿å¯¼å‡ºçš„æ¨¡åž‹åŒ…å«å¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚æè¿°ã€ä½œè€…ã€è®¸å¯è¯ã€ç‰ˆæœ¬ç­‰ã€‚å¯¼å‡ºå®ŒæˆåŽï¼Œç¨‹åºä¼šè¿”å›žå¯¼å‡ºçš„æ–‡ä»¶è·¯å¾„ï¼Œå¹¶åœ¨æŽ§åˆ¶å°è¾“å‡ºç›¸å…³ä¿¡æ¯ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡ŒåŽç»­çš„æŽ¨ç†å’ŒéªŒè¯ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºæ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„YOLOv8æ¨¡åž‹å¯¼å‡ºæ¡†æž¶ï¼Œæ”¯æŒå¤šç§æ·±åº¦å­¦ä¹ æ¡†æž¶å’ŒæŽ¨ç†å¼•æ“Žï¼Œä¾¿äºŽç”¨æˆ·æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„æ ¼å¼è¿›è¡Œæ¨¡åž‹éƒ¨ç½²ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æž„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæž„æž¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºŽYOLOv8ç›®æ ‡æ£€æµ‹æ¡†æž¶çš„å®žçŽ°ï¼ŒåŒ…å«äº†æ¨¡åž‹è®­ç»ƒã€æŽ¨ç†ã€å¯¼å‡ºå’Œåº”ç”¨ç­‰å¤šä¸ªæ¨¡å—ã€‚æ•´ä½“æž¶æž„å›´ç»•ç€ç›®æ ‡æ£€æµ‹ä»»åŠ¡å±•å¼€ï¼Œæä¾›äº†ä»Žæ•°æ®å¤„ç†ã€æ¨¡åž‹è®­ç»ƒåˆ°æ¨¡åž‹å¯¼å‡ºå’Œåº”ç”¨çš„å®Œæ•´æµç¨‹ã€‚ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

1. **æ¨¡åž‹å®šä¹‰ä¸Žè®­ç»ƒ**ï¼šæä¾›äº†YOLOv8æ¨¡åž‹çš„å®šä¹‰ã€è®­ç»ƒå’ŒéªŒè¯åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æ•°æ®é›†å’Œè®­ç»ƒå‚æ•°çš„é…ç½®ã€‚
2. **æŽ¨ç†ä¸Žé¢„æµ‹**ï¼šå®žçŽ°äº†å¯¹è®­ç»ƒå¥½çš„æ¨¡åž‹è¿›è¡ŒæŽ¨ç†çš„åŠŸèƒ½ï¼Œæ”¯æŒå®žæ—¶è§†é¢‘æµåˆ†æžå’Œå¥èº«åŠ¨ä½œè®¡æ•°ç­‰åº”ç”¨ã€‚
3. **æ¨¡åž‹å¯¼å‡º**ï¼šæ”¯æŒå°†è®­ç»ƒå¥½çš„æ¨¡åž‹å¯¼å‡ºä¸ºå¤šç§æ ¼å¼ï¼Œä»¥ä¾¿äºŽåœ¨ä¸åŒçš„æŽ¨ç†å¼•æ“Žå’Œå¹³å°ä¸Šè¿›è¡Œéƒ¨ç½²ã€‚
4. **ç”¨æˆ·ç•Œé¢**ï¼šæä¾›äº†ç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼Œç”¨äºŽå¯åŠ¨å’Œç®¡ç†æ¨¡åž‹çš„è®­ç»ƒå’ŒæŽ¨ç†è¿‡ç¨‹ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                          | åŠŸèƒ½æè¿°                                                                                     |
|---------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| `code\ultralytics\models\sam\model.py`                                                          | å®žçŽ°Segment Anything Modelï¼ˆSAMï¼‰çš„æŽ¥å£ï¼Œæ”¯æŒå®žæ—¶å›¾åƒåˆ†å‰²å’Œå¤šç§æç¤ºæ–¹å¼ã€‚                 |
| `code\ultralytics\models\nas\predict.py`                                                        | å¤„ç†YOLO NASæ¨¡åž‹çš„é¢„æµ‹ç»“æžœï¼Œè¿›è¡ŒåŽå¤„ç†å’Œéžæžå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰ã€‚                             |
| `ui.py`                                                                                          | å¯åŠ¨Streamlit Webåº”ç”¨ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿è¡Œå’Œç®¡ç†æ¨¡åž‹çš„è®­ç»ƒå’ŒæŽ¨ç†ã€‚                               |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\solutions\ai_gym.py`      | å®žæ—¶åˆ†æžè§†é¢‘æµä¸­çš„äººä½“å§¿æ€ï¼Œç»Ÿè®¡å¥èº«åŠ¨ä½œçš„æ•°é‡ï¼Œæä¾›äº¤äº’å¼å¥èº«ç›‘æµ‹åŠŸèƒ½ã€‚                 |
| `train.py`                                                                                       | æä¾›YOLOv8æ¨¡åž‹çš„è®­ç»ƒæ¡†æž¶ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€é¢„å¤„ç†ã€æ¨¡åž‹è®­ç»ƒå’ŒéªŒè¯ç­‰åŠŸèƒ½ã€‚                  |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\engine\exporter.py`      | å¯¼å‡ºYOLOv8æ¨¡åž‹ä¸ºå¤šç§æ ¼å¼ï¼Œæ”¯æŒä¸åŒçš„æ·±åº¦å­¦ä¹ æ¡†æž¶å’ŒæŽ¨ç†å¼•æ“Žã€‚                             |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\nn\backbone\EfficientFormerV2.py` | å®šä¹‰EfficientFormerV2ç½‘ç»œç»“æž„ï¼Œä½œä¸ºYOLOv8çš„ä¸»å¹²ç½‘ç»œä¹‹ä¸€ã€‚                               |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\utils\triton.py`        | æä¾›ä¸ŽNVIDIA TritonæŽ¨ç†æœåŠ¡å™¨çš„é›†æˆï¼Œæ”¯æŒæ¨¡åž‹çš„é«˜æ•ˆæŽ¨ç†ã€‚                               |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\nn\extra_modules\block.py` | å®šä¹‰YOLOv8æ¨¡åž‹ä¸­ä½¿ç”¨çš„é¢å¤–æ¨¡å—å’Œå±‚ï¼Œå¢žå¼ºæ¨¡åž‹çš„åŠŸèƒ½ã€‚                                     |
| `code\ultralytics\data\dataset.py`                                                              | å®šä¹‰æ•°æ®é›†ç±»ï¼Œå¤„ç†æ•°æ®åŠ è½½å’Œé¢„å¤„ç†ï¼Œæ”¯æŒä¸åŒæ ¼å¼çš„æ•°æ®é›†ã€‚                               |
| `code\ultralytics\utils\errors.py`                                                              | å®šä¹‰é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ•èŽ·æœºåˆ¶ï¼Œç¡®ä¿ç¨‹åºçš„å¥å£®æ€§ã€‚                                           |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\nn\backbone\SwinTransformer.py` | å®šä¹‰Swin Transformerç½‘ç»œç»“æž„ï¼Œä½œä¸ºYOLOv8çš„ä¸»å¹²ç½‘ç»œä¹‹ä¸€ã€‚                                 |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéžå¿…è¦ï¼‰\ultralytics\engine\predictor.py`     | å®žçŽ°æ¨¡åž‹çš„æŽ¨ç†å’Œé¢„æµ‹åŠŸèƒ½ï¼Œå¤„ç†è¾“å…¥æ•°æ®å¹¶è¿”å›žé¢„æµ‹ç»“æžœã€‚                                   |

è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç†è§£æ•´ä¸ªé¡¹ç›®çš„ç»“æž„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

æ³¨æ„ï¼šç”±äºŽæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†èŽ·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†èŽ·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æŽ¥ï¼šhttps://mbd.pub/o/bread/ZpuWm5pu](https://mbd.pub/o/bread/ZpuWm5pu)